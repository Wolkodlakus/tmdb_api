# tmdb_api
Упражнение на чтение кода. "Фильмы с TMDB." 
Это набор скриптов для работы с [API themoviedb](https://api.themoviedb.org) и с локальной копией данной базы.

## Работа с API
### hello_api_TMDB.py
Модуль просит пользователя ввести API-ключ для проверки доступа к базе TMDB. Если проверка закончилась неудачно, то выводит `Invalid api key` и завершает работу. Если же проверка ключа проходит, то делает пробное подключение и выводит бюджет фильма под номером 215. В процессе работы использует модуль `tmdb_helpers`

### make_own_db.py
Модуль пытается создать локальную копию базы данных, содержащую информацию по первым 1000 фильмов.
Если не удасться подключиться по API-ключу для работы выведет `Invalid api key`. При удачном подключении попросит подождать :
`please, wait, this operation may take smth like 15-20 minutes` и выводит строки с процентом выполненияв реальном времени. В итого все фильмы, 
которые будут скачаны, будут загружены в файл `MyFilmDB.json`
В процессе работы использует модуль `tmdb_helpers`

### tmbd_helpers.py
Собственно включает в себя функции для работы с [API themoviedb](https://api.themoviedb.org) 
Пользователю предлагает ввести API-ключ, делает запрос к сервису, а результат возвращает в виде словаря.


## Работа с локальной базой

### find_similar.py
Для работы сначала запрашивает путь к локальной базе. При удачном подключении запрашивает фильм для поиска и пытается найти его. Если находит, то выдаёт рекомендованные фильмы.
Подбор рекомендованных фильмов происходит поиском совпадений по бюджету, жанру, оригинальному языку и принадлежности к одной коллекции. Самым важным является коллекция, затем жанр, потом язык и в самом конце бюджет. Выводятся 8 (если не задано иного) наиболее похожих фильмов. 
В случае неудачного поиска файла база или фильма прекращает работу.
Использует модуль `own_db_helpers`

### search_in_db.py
Производит поиск фильма в локальной базе. Поиск происходит по включению без учёта строчных и прописных букв, 
но обязательно на оригинальном языке.
Сначала просит путь до json'а с локальной базой, в нём ищет фильм. Выводит отсортированный список.
Использует модуль `own_db_helpers`
